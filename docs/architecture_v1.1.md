# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**.

–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å —Å–∏—Å—Ç–µ–º–æ–π –∏–∑ **Prefect + Streamlit + LangChain + MT5 API + GPT Vision**, –∏ –Ω–∞–º –Ω—É–∂–Ω–∞ —á–∏—Å—Ç–∞—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

**–ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**, –ø—Ä–∏–º–µ–Ω–∏–º–∞—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-–∞–≥–µ–Ω—Ç–∞, —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏ –ø–æ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ –∏ —Ñ–∞–π–ª–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏.

---

## üß± 1. –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```
—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ ITA_01
ITA_01/
‚îÇ
‚îú‚îÄ‚îÄ .gitignore                  # –ø—Ä–∞–≤–∏–ª–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (venv, data/, logs/ –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ README.md                   # –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ LICENSE                     # MIT (–∏–ª–∏ –¥—Ä—É–≥–∞—è, –ø–æ –≤—ã–±–æ—Ä—É)
‚îú‚îÄ‚îÄ requirements.txt             # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ setup.cfg                    # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞ / —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞
‚îú‚îÄ‚îÄ config.example.env           # –ø—Ä–∏–º–µ—Ä .env
‚îÇ
‚îú‚îÄ‚îÄ docs/                        # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ architecture.md           # –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ Decision_Log.md           # –ñ—É—Ä–Ω–∞–ª —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ ascii_schemes.md          # ASCII-—Å—Ö–µ–º—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ module_list.md            # –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ design_notes/
‚îÇ       ‚îú‚îÄ‚îÄ LangChain_integration.md
‚îÇ       ‚îî‚îÄ‚îÄ Prefect_strategy.md
‚îÇ
‚îú‚îÄ‚îÄ scripts/                     # —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ init_env.bat              # —Å–æ–∑–¥–∞—Ç—å venv –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ run_local.ps1             # –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Prefect-–∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ run_streamlit.ps1         # –∑–∞–ø—É—Å–∫ Streamlit-–ø–∞–Ω–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ setup_rules/                 # —Ö—Ä–∞–Ω–µ–Ω–∏–µ YAML –ø—Ä–∞–≤–∏–ª —Å–µ—Ç–∞–ø–æ–≤, —ç—Ç–æ –Ω–µ –∫–æ–¥, –ø–æ—Ç–æ–º—É –æ—Ç–¥–µ–ª—å–Ω–æ
‚îÇ   ‚îî‚îÄ‚îÄ Frank_raid/
‚îÇ       ‚îî‚îÄ‚îÄ v1.2.yaml
‚îÇ
‚îú‚îÄ‚îÄ data/                        # –¥–∞–Ω–Ω—ã–µ (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ archive/                  # –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ CSV, ZIP
‚îÇ   ‚îú‚îÄ‚îÄ cache/                    # –∫—ç—à –∂–∏–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö MT5
‚îÇ   ‚îú‚îÄ‚îÄ feedback_labels/           # Feedback —Ç—Ä–µ–π–¥–µ—Ä–∞ –æ —Ä–∞–±–æ—Ç–µ –õ–õ–ú, –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ examples/                 # –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π
‚îÇ
‚îú‚îÄ‚îÄ exchange/                    # –æ–±–º–µ–Ω —Ñ–∞–π–ª–∞–º–∏ –º–µ–∂–¥—É Prefect –∏ Vision
‚îÇ   ‚îú‚îÄ‚îÄ to_vision/                # PNG/JSON –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ GPT-Vision
‚îÇ   ‚îú‚îÄ‚îÄ annotated/                # —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ Vision
‚îÇ   ‚îî‚îÄ‚îÄ archive/                  # –∞—Ä—Ö–∏–≤ —Å—Ç–∞—Ä—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ logs/                         # –ª–æ–≥–∏ (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ prefect/                   # Prefect-–ª–æ–≥–∏
‚îÇ   ‚îú‚îÄ‚îÄ training/                  # –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ runtime/                   # runtime / debug –ª–æ–≥–∏
‚îÇ
‚îú‚îÄ‚îÄ flows/                        # –ø–∞–π–ø–ª–∞–π–Ω—ã Prefect
‚îÇ   ‚îú‚îÄ‚îÄ backtest_flow.py           # –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–ª–æ—É –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ live_flow.py               # —Ñ–ª–æ—É –¥–ª—è –ª–∞–π–≤-–∞–Ω–∞–ª–∏–∑–∞ –∏ —Å–∏–≥–Ω–∞–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ data_refresh_flow.py       # –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞/–¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îú‚îÄ‚îÄ configs/                      # –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ config.yaml                # –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ default.yaml               # –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ secrets_template.yaml      # –ø—Ä–∏–º–µ—Ä API-–∫–ª—é—á–µ–π –∏ —Ç–æ–∫–µ–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ logging.yaml               # –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îú‚îÄ‚îÄ assets/                       # —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ icons/
‚îÇ   ‚îú‚îÄ‚îÄ screenshots/
‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îî‚îÄ‚îÄ prompts/                   # –ø—Ä–æ–º–ø—Ç—ã LLM –∏ —à–∞–±–ª–æ–Ω—ã
‚îÇ
‚îú‚îÄ‚îÄ notebooks/                    # —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ –∞–Ω–∞–ª–∏–∑
‚îÇ   ‚îú‚îÄ‚îÄ dev_analysis.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ feature_experiments.ipynb
‚îÇ   ‚îî‚îÄ‚îÄ model_testing.ipynb
‚îÇ
‚îú‚îÄ‚îÄ tests/                        # —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ unit/                      # –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ integration/               # –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îî‚îÄ‚îÄ src/                          # –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
    ‚îú‚îÄ‚îÄ 01_UserRequest/
    ‚îú‚îÄ‚îÄ 02_CoreData/
    ‚îú‚îÄ‚îÄ 03_DataStorage/
    ‚îú‚îÄ‚îÄ 04_MarketTools/
    ‚îú‚îÄ‚îÄ 05_SetupManager/
    ‚îú‚îÄ‚îÄ 06_BacktestManager/
    ‚îú‚îÄ‚îÄ 07_Visualization/
    ‚îú‚îÄ‚îÄ 08_GPT_VisionFlow/
    ‚îú‚îÄ‚îÄ 09_Learning_Module/
    ‚îú‚îÄ‚îÄ 10_Outputs_Integrations/
    ‚îú‚îÄ‚îÄ 11_Orchestration/
    ‚îú‚îÄ‚îÄ 12_Config_Security/
    ‚îú‚îÄ‚îÄ 13_QA_Testing/
    ‚îú‚îÄ‚îÄ 14_UX_Interface/
    ‚îú‚îÄ‚îÄ 15_Feedback_Learning/
    ‚îî‚îÄ‚îÄ utils/
```
üìò –ü–æ—è—Å–Ω–µ–Ω–∏—è –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º –ø–∞–ø–∫–∞–º  

–ü–∞–ø–∫–∞	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ  
**src/**	–≤–µ—Å—å Python-–∫–æ–¥ (–º–æ–¥—É–ª–∏ –∏ –ø–æ–¥–º–æ–¥—É–ª–∏). –ò–µ—Ä–∞—Ä—Ö–∏—è 01‚Äì15 —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–æ–º–µ—Ä–∞–º –º–æ–¥—É–ª–µ–π –ø—Ä–æ–µ–∫—Ç–∞.  
**flows/**	orchestration-—Ñ–∞–π–ª—ã Prefect (–∫–∞–∂–¥—ã–π Flow —Å–æ–±–∏—Ä–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ src/).  
**configs/**	YAML-–∫–æ–Ω—Ñ–∏–≥–∏ –∏ —à–∞–±–ª–æ–Ω—ã —Ç–æ–∫–µ–Ω–æ–≤.  
**data/**	—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–π, –∫—ç—à–∞, –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.  
**exchange/**	–æ–±–º–µ–Ω PNG/JSON –º–µ–∂–¥—É Python-—è–¥—Ä–æ–º –∏ GPT-Vision.  
**assets/**	–∏–∫–æ–Ω–∫–∏, —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ–º–ø—Ç–æ–≤, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.  
**docs/**	–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Å—Ö–µ–º—ã, –æ–ø–∏—Å–∞–Ω–∏—è –∏ –¥—Ä—É–≥–∏–µ –∑–∞–ø–∏—Å–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç—É.  
**scripts/**	—Å–µ—Ä–≤–∏—Å–Ω—ã–µ .bat/.ps1 –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ UI.  
**logs/**	–ª–æ–≥–∏ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º.  
**tests/**	pytest-—Ç–µ—Å—Ç—ã.  
**notebooks/**	—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã Jupyter, –æ–±—É—á–µ–Ω–∏–µ, –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö.  
**utils/**	–æ–±—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç.–¥.).  

---  

–ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—á–µ–Ω—å —Å–∫—Ä–∏–ø—Ç–æ–≤ (—Ä–∞–∑–¥–µ–ª—ë–Ω –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º)  
üß© 1. Core (—è–¥—Ä–æ –ø—Ä–æ–µ–∫—Ç–∞)  

–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –±–µ–∑ –Ω–µ—ë –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.  
```
–ü–∞–ø–∫–∞: src/core/

config.py               ‚Üê –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏, —Ç–æ–∫–µ–Ω—ã, env
scheduler.py            ‚Üê Prefect scheduler (cron/periodic –∑–∞–ø—É—Å–∫)
orchestrator.py         ‚Üê —Å–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ñ–ª–æ—É (backtest_flow, live_flow)
__init__.py

utils/
‚îú‚îÄ‚îÄ logger.py           ‚Üê —Ü–≤–µ—Ç–Ω—ã–µ –ª–æ–≥–∏ —á–µ—Ä–µ–∑ loguru/rich
‚îú‚îÄ‚îÄ time_utils.py       ‚Üê —Ç–∞–π–º–∑–æ–Ω—ã, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ timestamp
‚îú‚îÄ‚îÄ file_io.py          ‚Üê —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å JSON, CSV, YAML
‚îú‚îÄ‚îÄ decorators.py       ‚Üê @retry, @timed, @catch_errors
‚îî‚îÄ‚îÄ __init__.py
```

üìå –ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å: –≤—Å–µ —Ñ–∞–π–ª—ã.
(–æ–Ω–∏ –∫–æ—Ä–æ—Ç–∫–∏–µ, –¥–æ 50‚Äì70 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π)  

üìä 2. Data Layer (–∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö)  
```
–ü–∞–ø–∫–∞: src/data/

ingest/
‚îú‚îÄ‚îÄ mt5_connector.py       ‚Üê –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MetaTrader 5, –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫
‚îú‚îÄ‚îÄ csv_loader.py          ‚Üê –∏–º–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–π CSV/—ç–∫—Å–ø–æ—Ä—Ç–æ–≤
‚îú‚îÄ‚îÄ data_cache.py          ‚Üê –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ DataFrame –ª–æ–∫–∞–ª—å–Ω–æ (parquet)
‚îî‚îÄ‚îÄ __init__.py

processor/
‚îú‚îÄ‚îÄ cleaner.py             ‚Üê —É–¥–∞–ª–µ–Ω–∏–µ NaN, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–∞–π–º—Å—Ç–∞–º–ø–æ–≤
‚îú‚îÄ‚îÄ session_engine.py      ‚Üê —Å–µ—Å—Å–∏–∏, DO/WO —É—Ä–æ–≤–Ω–∏
‚îú‚îÄ‚îÄ features.py            ‚Üê –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, ATR, FVG_gap –∏ –ø—Ä.
‚îî‚îÄ‚îÄ __init__.py
```

üìå –ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å: –≤—Å–µ 6.
MT5-–∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä –º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ —Ç–≤–æ–µ–≥–æ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞.  

üíæ 3. Data Storage & Versioning  
```
–ü–∞–ø–∫–∞: src/storage/

persistent_store.py      ‚Üê —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–µ–π (–ª–æ–∫–∞–ª—å–Ω–æ/DB)
version_registry.py      ‚Üê –≤–µ—Ä—Å–∏—è –ø—Ä–∞–≤–∏–ª/—Å–µ—Ç–∞–ø–æ–≤, rule_id tracking
cache_manager.py         ‚Üê –∫—ç—à –¥–∞–Ω–Ω—ã—Ö –¥–ª—è live —Ä–µ–∂–∏–º–∞
__init__.py
```

üìå –ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å: –≤—Å–µ 3.
(—ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–ª–∞—Å—Å—ã, —Ä–µ–∞–ª–∏–∑—É—é—Ç save/load –≤ /data/)

üìà 4. Market Tools (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞)  
```
–ü–∞–ø–∫–∞: src/market_tools/

dispatcher.py             ‚Üê –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä—ã –ø–æ–¥ rule
static/
‚îú‚îÄ‚îÄ detect_sessions.py     ‚Üê —Å–µ—Å—Å–∏–∏ (Asia/London/NY)
‚îú‚îÄ‚îÄ detect_opening_levels.py
‚îú‚îÄ‚îÄ detect_pdh_pdl.py
‚îî‚îÄ‚îÄ detect_daily_open.py

dynamic/
‚îú‚îÄ‚îÄ detect_fvg.py
‚îú‚îÄ‚îÄ detect_bos_choch.py
‚îú‚îÄ‚îÄ detect_ob.py
‚îú‚îÄ‚îÄ detect_liquidity.py
‚îî‚îÄ‚îÄ __init__.py

descriptors/
‚îú‚îÄ‚îÄ fvg_description.yaml
‚îú‚îÄ‚îÄ asia_session.yaml
‚îî‚îÄ‚îÄ liquidity_zones.yaml

üìå –û–±–Ω–æ–≤–ª–µ–Ω–æ (v1.1): –¥–æ–±–∞–≤–ª–µ–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ static/dynamic/descriptors, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç BaseDetector, JSON-–≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ pydantic.

(–ø–æ —Å—É—Ç–∏ ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–æ–Ω –∏ —É—Ä–æ–≤–Ω–µ–π)  

‚öôÔ∏è 5. Setup Manager / Rule Logic  
```
–ü–∞–ø–∫–∞: src/rules/

setup_manager.py         ‚Üê –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä YAML –ø—Ä–∞–≤–∏–ª, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–∫–æ–Ω—Ç–µ–∫—Å—Ç Prefect
yaml_rules/
‚îú‚îÄ‚îÄ ib_raid_v1.yaml
‚îú‚îÄ‚îÄ fvg_reversal_v2.yaml
‚îú‚îÄ‚îÄ asia_sweep_v1.yaml
‚îî‚îÄ‚îÄ __init__.py

üìå –û–±–Ω–æ–≤–ª–µ–Ω–æ (v1.1): Setup Manager –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç Prefect, –æ–Ω —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç YAML –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å required_tools, symbol, tf.


üß™ 6. Backtester Manager  
```
–ü–∞–ø–∫–∞: src/backtester/

core.py           ‚Üê —Ä–∞—Å—á—ë—Ç P/L, RR, winrate
runner.py         ‚Üê –º–∞—Å—Å–æ–≤—ã–µ –ø—Ä–æ–≥–æ–Ω—ã –ø—Ä–∞–≤–∏–ª
validator.py      ‚Üê –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –º–µ—Ç—Ä–∏–∫–∏ QA
manual_backtest_ui.py   ‚Üê Dash-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
recorder.py       ‚Üê –∑–∞–ø–∏—Å—å —Å–¥–µ–ª–æ–∫ –∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ Notion
__init__.py

üìå –û–±–Ω–æ–≤–ª–µ–Ω–æ (v1.1): –¥–æ–±–∞–≤–ª–µ–Ω—ã auto/manual —Ä–µ–∂–∏–º—ã, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π subflow Prefect.


üé® 7. Visualization Engine  
```
–ü–∞–ø–∫–∞: src/visualizer/

plotly_engine.py          ‚Üê –≥—Ä–∞—Ñ–∏–∫–∏ OHLC, —É—Ä–æ–≤–Ω–∏, –∑–æ–Ω—ã
dash_backtester_app.py    ‚Üê Dash-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
annotation_service.py     ‚Üê –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ GPT Vision
prompt_formatter.py       ‚Üê —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ Vision
vision_interpreter.py     ‚Üê –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å GPT Vision / LangChain
visual_output_handler.py  ‚Üê —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ PNG/JSON
__init__.py

üìå –û–±–Ω–æ–≤–ª–µ–Ω–æ (v1.1): —Ä–∞—Å—à–∏—Ä–µ–Ω –º–æ–¥—É–ª—å, –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥–º–æ–¥—É–ª–∏ Vision Interpreter –∏ Prompt Formatter, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Plotly/Dash.

(—Ç—ã —É–∂–µ –ø–∏—Å–∞–ª —Ç–µ—Å—Ç Dash-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é, —ç—Ç–æ –≥–æ—Ç–æ–≤–∞—è –±–∞–∑–∞)  

ü§ñ 8. LLM Integration (LangChain + GPT)  
```
–ü–∞–ø–∫–∞: src/llm/

prompt_manager.py         ‚Üê —à–∞–±–ª–æ–Ω—ã –∏ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
vision_interpreter.py     ‚Üê GPT Vision –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
annotation_service.py     ‚Üê –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤
decision_reconciler.py    ‚Üê –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ LLM –∏ Python
api_adapter.py            ‚Üê —Å–≤—è–∑—å —Å OpenAI/Gemini API
memory_manager.py         ‚Üê –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å LangChain
embeddings.py             ‚Üê —Ç–µ–∫—Å—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
__init__.py

üìå –û–±–Ω–æ–≤–ª–µ–Ω–æ (v1.1): –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥–º–æ–¥—É–ª–∏ Vision Interpreter –∏ Decision Reconciler, LangChain –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ LLM.

(—ç—Ç–∏ —Ñ–∞–π–ª—ã ‚Äî —Å–µ—Ä–¥—Ü–µ —Ç–≤–æ–µ–≥–æ ‚ÄúLearning Module‚Äù)  

üß¨ 9. Learning / Memory Subsystem  
```
–ü–∞–ø–∫–∞: src/ml_service/

api_server.py       ‚Üê REST API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Prefect
vector_db.py        ‚Üê ChromaDB, —Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
trainer.py          ‚Üê –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
scorer.py           ‚Üê —Å–∫–æ—Ä–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
__init__.py

üìå –û–±–Ω–æ–≤–ª–µ–Ω–æ (v1.1): ML –≤—ã–Ω–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π REST-—Å–µ—Ä–≤–∏—Å, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ HTTP API.

trainer –∏ labeling –º–æ–∂–Ω–æ –ø–æ–∑–∂–µ.  

üì§ 10. Outputs & Integrations  
```
–ü–∞–ø–∫–∞: src/outputs/

notion_uploader.py        ‚Üê API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Notion
telegram_notifier.py      ‚Üê —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å PNG –∏ —Ç–µ–∫—Å—Ç–æ–º
reporting_dashboard.py    ‚Üê —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã
exporter.py               ‚Üê CSV/Excel –≤—ã–≥—Ä—É–∑–∫–∏
__init__.py
```

üìå –ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å: notion_uploader –∏ telegram_notifier —Å—Ä–∞–∑—É.
(–¥—Ä—É–≥–∏–µ ‚Äî –ø–æ –º–µ—Ä–µ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏)  

üíª 11. Streamlit UI  
```
–ü–∞–ø–∫–∞: src/ui/

streamlit_app.py          ‚Üê –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–ª–æ—É Prefect)
components/
‚îú‚îÄ‚îÄ control_panel.py      ‚Üê –æ–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ flow_status.py        ‚Üê –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–ª–æ—É
‚îú‚îÄ‚îÄ results_viewer.py     ‚Üê —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ—Ç—á—ë—Ç—ã
‚îî‚îÄ‚îÄ __init__.py
__init__.py

üìå –û–±–Ω–æ–≤–ª–µ–Ω–æ (v1.1): Streamlit —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π UI, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ Dash, —Å–≤—è–∑—å —á–µ—Ä–µ–∑ FastAPI backend.


üîÅ 12. Feedback Loop  
```
–ü–∞–ø–∫–∞: src/feedback/

feedback_loop.py          ‚Üê —Å–±–æ—Ä —Ñ–∏–¥–±—ç–∫–∞ —Ç—Ä–µ–π–¥–µ—Ä–∞
policy_updater.py         ‚Üê –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ YAML –ø—Ä–∞–≤–∏–ª –ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
__init__.py
```

üìå –ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å: –æ–±–∞, —á—Ç–æ–±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—É—á–∞–µ–º–æ—Å—Ç—å –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º.  

üß∞ 13. QA / Tests  
```
–ü–∞–ø–∫–∞: src/qa/

tests/
‚îú‚îÄ‚îÄ test_detectors.py
‚îú‚îÄ‚îÄ test_backtester.py
‚îú‚îÄ‚îÄ test_ingest.py
‚îú‚îÄ‚îÄ test_llm_integration.py
‚îî‚îÄ‚îÄ __init__.py

ci_pipeline.yaml          ‚Üê –ø–∞–π–ø–ª–∞–π–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏ (pytest + lint)
__init__.py
```

üìå –ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å: –º–∏–Ω–∏–º—É–º 2 —Ç–µ—Å—Ç–∞ (ingest + backtester).  

‚ö° 14. Flows (Prefect DAGs)  
```
–ü–∞–ø–∫–∞: flows/

backtest_flow.py         ‚Üê orchestration —Ü–µ–ø–æ—á–∫–∏ –±—ç–∫—Ç–µ—Å—Ç–∞
live_flow.py              ‚Üê –ª–∞–π–≤-–∞–Ω–∞–ª–∏–∑ –∏ —Å–∏–≥–Ω–∞–ª—ã
train_model_flow.py       ‚Üê –æ–±—É—á–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
__init__.py

üìå –û–±–Ω–æ–≤–ª–µ–Ω–æ (v1.1): –¥–æ–±–∞–≤–ª–µ–Ω train_model_flow, –≤—Å–µ —Ñ–ª–æ—É –∏—Å–ø–æ–ª—å–∑—É—é—Ç JSON –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, retry –∏ Prefect Orion UI.


‚öôÔ∏è 15. Configs  
```
–ü–∞–ø–∫–∞: configs/

default.yaml              ‚Üê –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
secrets_template.yaml     ‚Üê –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤
logging.yaml              ‚Üê –ª–æ–≥–≥–∏–Ω–≥ —Ñ–æ—Ä–º–∞—Ç
__init__.py
```

üìå –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å: –≤—Å—ë.
(default.yaml ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Prefect/DB/Paths)



---

## ‚öôÔ∏è 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª                    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                   |
| ---                     | ---                                          |
| `.env`                  | –∫–ª—é—á–∏ API –∏ —Ç–æ–∫–µ–Ω—ã                           |
| `requirements.txt`      | –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏                                  |
| `pyproject.toml`        | –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏                          |
| `Makefile`              | –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (`make backtest`, `make live`) |
| `README.md`             | –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è                                 |
| `PREFECT_DEPLOYMENT.md` | –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ Flow configs        |

---

## üß© 4. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞

- **–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –Ω–µ–∑–∞–≤–∏—Å–∏–º** ‚Äî –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.
- **–í—Å–µ –º–æ–¥—É–ª–∏ –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JSON / DataFrame + meta**.
- **Prefect —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ orchestration, –Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π.**
- **Streamlit ‚Äî —Ç–æ–ª—å–∫–æ UI (–Ω–µ –ª–æ–≥–∏–∫–∞).**
- **–í—Å–µ –ø—É—Ç–∏ –∏ –∫–ª—é—á–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `core/config.py`.**
- **–í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (ingest_id, run_id, rule_version)** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω—ã –≤ Persistent Store