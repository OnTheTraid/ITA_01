# ==========================================================
# Основной конфигурационный файл проекта ITA
# ==========================================================

coredata:
  mt5:
    use_env_credentials: true         # Использовать логин/пароль из переменных окружения
    timezone: "UTC"                   # Таймзона данных MT5
  storage:
    archive_path: "data/archive/raw"  # Путь к архиву исходных данных MT5
    cache_path: "data/cache"          # Путь к кэшу очищенных данных

# ----------------------------------------------------------
# Пути проекта (универсальные)
# ----------------------------------------------------------
paths:
  data_root: "data/"
  archive_root: "data/archive/"
  cache_root: "data/cache/"
  results_root: "data/results/"
  exchange_root: "data/exchange/"
  logs_root: "logs/"

  # Новые пути для DataRetention
  analytics_root: "data/results/analytics/"
  backtests_root: "data/results/backtests/"
  temp_root: "data/temp/"

# ----------------------------------------------------------
# Результаты, снапшоты и артефакты (для M03, M05, M06)
# ----------------------------------------------------------
results:
  provenance_path: "data/results/provenance"     # Снапшоты запусков (M03_RunSnapshot)
  rules_path: "data/rules"                       # Версии правил и сетапов (M03_RuleRegistry)
  backtests_path: "data/results/backtests"       # Отчёты бектестов (M06_Backtester)
  live_path: "data/results/live"                 # Живые результаты (M06_Backtester Live)
  analytics_path: "data/results/analytics"       # Аналитика и метрики (M04_Analytics)

  # Новое — отчёты очистки по DataRetention
  retention_reports_path: "data/results/retention"

# ----------------------------------------------------------
# Логирование
# ----------------------------------------------------------
logging:
  level: "INFO"
  root_path: "logs/"
  modules:
    coredata: "logs/M01_CoreData/coredata.log"
    datastorage: "logs/M03_DataStorage/persistent_store.log"
    runsnapshot: "logs/M03_DataStorage/run_snapshot.log"
    versionregistry: "logs/M03_DataStorage/version_registry.log"
    backtester: "logs/M06_Backtester/backtester.log"
    setupmanager: "logs/M05_SetupManager/setup_manager.log"

    # Логи подмодуля DataRetention (новое)
    data_retention: "logs/M03_DataStorage/data_retention.log"

# ----------------------------------------------------------
# Политики хранения данных (M03_DataStorage — DataRetention)
# ----------------------------------------------------------
retention:
  enabled: true

  policies:
    cache:
      ttl_days: 7
    archive:
      ttl_days: 90
    backtests:
      ttl_days: 30
    analytics:
      ttl_days: 60
    temp:
      ttl_days: 3

  disk_limits:
    backtests:
      max_gb: 3
    analytics:
      max_gb: 5

# ----------------------------------------------------------
# Общие параметры проекта
# ----------------------------------------------------------
general:
  timezone: "Europe/Kyiv"
  project_name: "ITA - Intelligent Trading Agent"
  author: "Maxim Malysh"
  version: "1.0.0"
  environment: "production"
